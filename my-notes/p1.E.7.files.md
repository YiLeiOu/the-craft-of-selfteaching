## 文件

   数据最常见的存放形式就是文件，因此要对大量数据进行分析，自然就少不了对文件的读写操作。
   
   
### 创建文件

   最常用的方法：`open('/path/file-name.xxx', mode='r')`，第一个参数是文件路径，第二个参数是打开文件的模式（只读、只写、读写……）
   
   第二个模式参数有几种选择，默认是`r`：
   
   | 参数符号 | 参数意义|
   |:------:|:-------|
   |r|只读模式 |
   |w|只写模式|
   |a|追加模式—在文件最后追加内容|
   |x|排他模式—不支持同时打开|
   |b|二进制模式|
   |t|文本模式|
   |+|读写模式|
   
    >>> fil = open('/tmp/test-file.txt', 'w')
    >>> fil.name
    '/tmp/test-file.txt'
    >>> fil.close() # 打开了文件操作完后记得关闭
    

### 删除文件

   删除文件需要引入`os`包，而且要先执行`file.close()`函数把文件关闭，在执行删除函数前需要先判断文件是否存在（**Note：** *教程中说到不判断文件存在删除会失败，但是在Terminal中测试发现即使没有判断文件存在也能顺利删除文件，这个矛盾有待进一步考证*）。
   
   - `os.path.exists(file.name)` 判断文件是否存在，返回布尔值
   
   - `os.remove(file.name)` 删除文件
   
   
### 读写文件

   创建文件或打开文件后，可以使用`file.read()`函数读文件内容，也可以使用`file.write(Str)`函数把内容写到文件中去。
   
   读写操作使用`open()`打开文件的时候要记得传入对应的操作模式参数，具体写文件就是`w`或`a`，读文件就是`r`。
   
    >>> f = open('/tmp/test-file.txt', 'w')
    >>> f.write('first line\nsecond line\nthird line\n')
    34
    >>> f.close()
   
    >>> f = open('/tmp/test-file.txt', 'r')
    >>> s = f.read()
    >>> s
    'first line\nsecond line\nthird line\n'
    >>> print(s)
    first line
    second line
    third line
    
    >>> f.close()
   
   此外，除了一次性一股脑把所有内容都读出来，也可以一行一行地读：每次执行`file.readline()`函数返回一行并在下一次执行时自动返回下一行内容（我猜这是**指针**的功劳？）；
   
    f = open('/tmp/test-file.txt', 'r')
    s = f.readline().strip()    # 使用strip删除换行空白
    print(s)
    first line
    
    s = f.readline().strip()    # 使用strip删除换行空白
    print(s)
    second line
    f.close()
   
   还可以通过函数`file.readlines()`把每一行读取到的内容都作为一个元素存到列表里，最终返回包含所有内容的列表。
   
    >>> f = open('/tmp/test-file.txt', 'r')
    >>> l = f.readlines()
    >>> type(l)
    <class 'list'>
    >>> l
    ['first line\n', 'second line\n', 'third line\n']
    >>> f.close()
    
   反过来，将一个列表的内容逐行写到文件里面也有对应的函数`file.writelines(List)`
   
   
### with语句块

   针对文件，可以把文件的操作专门写在一个语句块里面，这样的语句块就要用到`with ...as`来声明。
   
    >>> path = 'test-file1.txt'
    >>> with open(path, 'w') as txt:
    ...   txt.write('frist line \nsecond line \nthird line')
    ...
    35
    >>> with open(path, 'r') as txt:
    ...   print(txt.readlines())
    ...
    ['frist line \n', 'second line \n', 'third line']
   
   除了代码可读性更高之外，使用`with`语句块打开或创建某个文件后不需要手动使用`file.close()`关闭文件。
   
   
   